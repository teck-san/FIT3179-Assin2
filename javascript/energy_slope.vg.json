{ 
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
"title": "Energy Generated by type slope chart",

    "data": {
      "url": "https://raw.githubusercontent.com/teck-san/assignment2/main/data/Energy-clean-merged.csv"
    },"params": [
        {
          "name": "year_selection",
          "value": 2001,
          "bind": {
            "input": "range",
            "min": 2001,
            "max": 2020,
            "step": 1,
            "name": "Year: "
          }},
          {
            "name": "Continent_selection",
            "bind": {
              "input": "select",
              "options": [
                null,
                "Americas",
                "Europe",
                "Africa",
                "Asia",
                "Oceania"
              ],
              "labels": [
                "Show All",
                "Americas",
                "Europe",
                "Africa",
                "Asia",
                "Oceania"
              ],
              "name": "Continent Selection: "
            }
          },
          {
            "name": "highlight",
            "select": {"type": "point", "on": "mouseover"}
          }],
    "transform": [
        {"filter": "datum.Year == 2000 || datum.Year == year_selection"},
        {"filter": "Continent_selection == null || datum.Region == Continent_selection"}
    ],
    "repeat": [
        "Electricity from fossil fuels (TWh)",
        "Electricity from renewables (TWh)",
      "Electricity from nuclear (TWh)"],
    "spec": {
      "mark": "line",
      "width": {"step": 50},
      "height":350,
      "encoding": {
        "x": {"field": "Year", "type": "ordinal","axis":{"grid":true}},
        "y": {
          "field": {"repeat": "repeat"},
          "aggregate": "mean"
        },
        "strokeWidth":{"value":3},
        "color": {
            "field": "Region",
            "type": "nominal",
            "legend": {
                "title":"Region",
                "orient": "right",
                "offset": 10,
                "labelOffset": 3
               
              },
              "scale": {
                "domain": ["Africa", "Asia", "Americas","Europe","Oceania"],
                "range": ["#ff7f00", "#DAA520", "#984ea3", "#a65628", "#377eb8"]
        }
        },
        "opacity": {
            "condition": [{
              "param": "highlight",
              
              "value": 1
            }],
            "value": 0.3
          }
      }
    },
    "config": {  
        "view": {
          "stroke": "transparent"
          
        },"padding":{"left": 10, "top": 20, "right": 10, "bottom": 20},
        "background": "rgb(243, 241, 241)"}
  }